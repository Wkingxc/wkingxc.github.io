(function(){"use strict";var t={9423:function(t,e,s){var n=s(5130),i=s(6768);const r={class:"app-container"};function l(t,e,s,n,l,o){const a=(0,i.g2)("MainView"),d=(0,i.g2)("CardView");return(0,i.uX)(),(0,i.CE)("div",r,[l.isCardView?((0,i.uX)(),(0,i.Wv)(d,{key:1,cardBackSrc:l.cardBackSrc,excludedCards:l.excludedCards,onReturnToMain:o.returnToMain},null,8,["cardBackSrc","excludedCards","onReturnToMain"])):((0,i.uX)(),(0,i.Wv)(a,{key:0,rulesCardSrc:l.rulesCardSrc,onStartGame:o.startCardView},null,8,["rulesCardSrc","onStartGame"]))])}const o={class:"main-view"},a={class:"rules-card"},d=["src"],p={class:"code-input-container"};function c(t,e,s,r,l,c){return(0,i.uX)(),(0,i.CE)("div",o,[e[3]||(e[3]=(0,i.Lk)("h1",null,"抽卡游戏",-1)),(0,i.Lk)("div",a,[(0,i.Lk)("img",{src:s.rulesCardSrc,alt:"规则卡",class:"rule-card-image"},null,8,d)]),(0,i.Lk)("div",p,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.identityCode=t),placeholder:"输入识别码（可选）",class:"identity-code-input",maxlength:"5"},null,512),[[n.Jo,l.identityCode]]),e[2]||(e[2]=(0,i.Lk)("p",{class:"code-tip"},"输入对方的识别码可避免抽到相同卡牌",-1))]),(0,i.Lk)("button",{class:"draw-button",onClick:e[1]||(e[1]=(...t)=>c.startGame&&c.startGame(...t))},"开始抽卡")])}s(4114);var h={name:"MainView",props:{rulesCardSrc:{type:String,required:!0}},data(){return{identityCode:"",errorMessage:""}},methods:{startGame(){let t=[];if(this.identityCode)try{t=this.parseIdentityCode(this.identityCode)}catch(e){alert("识别码无效，将从全部卡牌中抽取"),t=[]}this.$emit("start-game",t)},parseIdentityCode(t){if(5!==t.length)throw new Error("识别码长度错误");const e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s=[];for(let n=0;n<t.length;n++){const i=t[n],r=e.indexOf(i);if(-1===r)throw new Error("识别码包含无效字符");const l=r+1;s.push(l)}return s}}},u=s(1241);const g=(0,u.A)(h,[["render",c],["__scopeId","data-v-c6a49124"]]);var C=g,f=s(4232);const j={class:"cards-container"},k=["onClick"],v={class:"card-inner"},w={class:"card-front"},y=["src"],b={class:"card-back"},F=["src"],m={key:0,class:"code-container"},S={class:"identity-code"},L={class:"buttons"},M=["disabled"];function E(t,e,s,n,r,l){return(0,i.uX)(),(0,i.CE)("div",{class:(0,f.C4)(["card-view",{"mobile-view":r.isMobile}])},[e[5]||(e[5]=(0,i.Lk)("h2",null,"抽卡结果",-1)),(0,i.Lk)("div",j,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.cards,((t,e)=>((0,i.uX)(),(0,i.CE)("div",{key:e,class:(0,f.C4)(["card",{flipped:r.showCardFront?t.isFlipped:!t.isFlipped,"special-card":l.isSpecialCard(t.id)&&(r.showCardFront?!t.isFlipped:t.isFlipped)}]),onClick:t=>l.flipCard(e)},[(0,i.Lk)("div",v,[(0,i.Lk)("div",w,[(0,i.Lk)("img",{src:l.getCardFrontSrc(t.id),alt:"卡牌正面"},null,8,y)]),(0,i.Lk)("div",b,[(0,i.Lk)("img",{src:s.cardBackSrc,alt:"卡牌背面"},null,8,F)])])],10,k)))),128))]),r.identityCode?((0,i.uX)(),(0,i.CE)("div",m,[(0,i.Lk)("p",null,[e[3]||(e[3]=(0,i.eW)("识别码: ")),(0,i.Lk)("span",S,(0,f.v_)(r.identityCode),1)]),e[4]||(e[4]=(0,i.Lk)("p",{class:"code-tip"},"将此识别码发给对方，对方输入后可避免抽到相同卡牌",-1))])):(0,i.Q3)("",!0),(0,i.Lk)("div",L,[(0,i.Lk)("button",{class:"action-button",onClick:e[0]||(e[0]=(...t)=>l.handleFlipAllCards&&l.handleFlipAllCards(...t)),disabled:r.allCardsFlipped},"抽取卡牌",8,M),(0,i.Lk)("button",{class:"return-button",onClick:e[1]||(e[1]=(...t)=>l.returnToMain&&l.returnToMain(...t))},"返回主界面"),(0,i.Lk)("button",{class:"toggle-button",onClick:e[2]||(e[2]=(...t)=>l.toggleCardsFace&&l.toggleCardsFace(...t))},(0,f.v_)(r.showCardFront?"隐藏":"显示"),1)])],2)}s(8111),s(2489),s(7588),s(1701);var x={name:"CardView",props:{cardBackSrc:{type:String,required:!0},excludedCards:{type:Array,default:()=>[]}},data(){return{cards:[],allCardsFlipped:!1,showCardFront:!1,inDrawMode:!1,identityCode:"",specialCardIds:[21,22,46,47,48,50],isMobile:!1}},created(){this.drawCards(),this.checkDeviceType(),window.addEventListener("resize",this.checkDeviceType)},beforeUnmount(){window.removeEventListener("resize",this.checkDeviceType)},methods:{checkDeviceType(){this.isMobile=window.innerWidth<=768},isSpecialCard(t){return this.specialCardIds.includes(t)},drawCards(){this.cards=[],this.allCardsFlipped=!1,this.showCardFront=!1,this.inDrawMode=!1;let t=Array.from({length:54},((t,e)=>e+1)).filter((t=>!this.excludedCards.includes(t)));for(let s=t.length-1;s>0;s--){const e=Math.floor(Math.random()*(s+1));[t[s],t[e]]=[t[e],t[s]]}const e=t.slice(0,5);for(let s=0;s<e.length;s++)this.cards.push({id:e[s],isFlipped:!1});this.generateIdentityCode()},generateIdentityCode(){const t=this.cards.map((t=>t.id));let e="";for(const s of t){const t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=s-1;e+=t[n]}this.identityCode=e},handleFlipAllCards(){this.inDrawMode=!0,this.showCardFront=!1,this.cards.forEach((t=>{t.isFlipped=!1})),this.allCardsFlipped=!0},flipCard(t){this.allCardsFlipped&&(this.cards[t].isFlipped=!this.cards[t].isFlipped)},toggleCardsFace(){this.showCardFront=!this.showCardFront,this.cards.forEach((t=>{t.isFlipped=!1}))},getCardFrontSrc(t){const e=t.toString().padStart(2,"0"),s={"01":"https://s2.loli.net/2025/04/26/IPAMOtKgoElXNhL.jpg","02":"https://s2.loli.net/2025/04/26/815HcyZwu3jhMFI.jpg","03":"https://s2.loli.net/2025/04/26/kNJ6wUvAj3VuoX8.jpg","04":"https://s2.loli.net/2025/04/26/qk6Z3oUadCvMTxW.jpg","05":"https://s2.loli.net/2025/04/26/nUEmLMbCgx5j1OX.jpg","06":"https://s2.loli.net/2025/04/26/CRBmkYMhoK5cbwx.jpg","07":"https://s2.loli.net/2025/04/26/ojc1U8Zy6lLDbnX.jpg","08":"https://s2.loli.net/2025/04/26/VDY54HBjCMW2dgn.jpg","09":"https://s2.loli.net/2025/04/26/pGIKRg91zAwCVjY.jpg",10:"https://s2.loli.net/2025/04/26/c4TWf1gDFEiHLUG.jpg",11:"https://s2.loli.net/2025/04/26/jDVTvJs4hEORPpS.jpg",12:"https://s2.loli.net/2025/04/26/yDwlTkzZEoAn7gX.jpg",13:"https://s2.loli.net/2025/04/26/g8MP1DfJzSvrTp7.jpg",14:"https://s2.loli.net/2025/04/26/ON53jUgciVeLaKG.jpg",15:"https://s2.loli.net/2025/04/26/HV9WsG56KA1STjQ.jpg",16:"https://s2.loli.net/2025/04/26/3qm8ptP9KZvY67r.jpg",17:"https://s2.loli.net/2025/04/26/ndjkY39RApytuTZ.jpg",18:"https://s2.loli.net/2025/04/26/v63MmcnOsuEPC2w.jpg",19:"https://s2.loli.net/2025/04/26/1bF7R94Kpdo8SGU.jpg",20:"https://s2.loli.net/2025/04/26/c3kxrvhH4y6OguU.jpg",21:"https://s2.loli.net/2025/04/26/IuatYBZ4dPJpniF.jpg",22:"https://s2.loli.net/2025/04/26/isBuYwfyWCtJk7E.jpg",23:"https://s2.loli.net/2025/04/26/ZBYKrPqneu8xCdI.jpg",24:"https://s2.loli.net/2025/04/26/uCwklA7hOofRFJW.jpg",25:"https://s2.loli.net/2025/04/26/9Ikw7LQirzlgB5n.jpg",26:"https://s2.loli.net/2025/04/26/PGik7J3IO1xTKht.jpg",27:"https://s2.loli.net/2025/04/26/zPWDrbeKNfi2LF9.jpg",28:"https://s2.loli.net/2025/04/26/iUGblh8rPDz9RIY.jpg",29:"https://s2.loli.net/2025/04/26/M35HaYywEXuTc1J.jpg",30:"https://s2.loli.net/2025/04/26/pL7eGHr3n1WZyEY.jpg",31:"https://s2.loli.net/2025/04/26/ungZivazUY7x5r9.jpg",32:"https://s2.loli.net/2025/04/26/zDfxKIoE2WOqwNC.jpg",33:"https://s2.loli.net/2025/04/26/AS2FZmxoGR4EiWB.jpg",34:"https://s2.loli.net/2025/04/26/nBu3mgWfpycbo7w.jpg",35:"https://s2.loli.net/2025/04/26/xUYnpgrsowFOq4f.jpg",36:"https://s2.loli.net/2025/04/26/wn3ez5uOkRYdrHV.jpg",37:"https://s2.loli.net/2025/04/26/EFW58oPrybJzl1X.jpg",38:"https://s2.loli.net/2025/04/26/L7aoYjOeT4npASi.jpg",39:"https://s2.loli.net/2025/04/26/dtEY1WRlxirQJhf.jpg",40:"https://s2.loli.net/2025/04/26/dR2OkzNrobSKH4W.jpg",41:"https://s2.loli.net/2025/04/26/TMdkoDPEylqKC6J.jpg",42:"https://s2.loli.net/2025/04/26/yHsb7TDiuUBhJ1a.jpg",43:"https://s2.loli.net/2025/04/26/MNjidFkobhWt6Ac.jpg",44:"https://s2.loli.net/2025/04/26/SRnm6QgbZ8d12VY.jpg",45:"https://s2.loli.net/2025/04/26/x3fkXKDjZVNSF6C.jpg",46:"https://s2.loli.net/2025/04/26/sB3IPDazvK1bgXS.jpg",47:"https://s2.loli.net/2025/04/26/RmCzWT7yqQa91jB.jpg",48:"https://s2.loli.net/2025/04/26/WaEBfgCztpK6IbV.jpg",49:"https://s2.loli.net/2025/04/26/3nsiWFkRuo1cq6J.jpg",50:"https://s2.loli.net/2025/04/26/b9FKUsNOygpH2Rz.jpg",51:"https://s2.loli.net/2025/04/26/ZEFWAIUqvbtBK3T.png",52:"https://s2.loli.net/2025/04/26/ClkBshSMw28XRTo.png",53:"https://s2.loli.net/2025/04/26/URBKdtCzYcDXJ3x.png",54:"https://s2.loli.net/2025/04/26/oqR6TAngZXyVucO.png"};return s[e]},returnToMain(){this.$emit("return-to-main")}}};const T=(0,u.A)(x,[["render",E],["__scopeId","data-v-098f8b0b"]]);var O=T,V={name:"App",components:{MainView:C,CardView:O},data(){return{isCardView:!1,rulesCardSrc:"https://s2.loli.net/2025/04/26/R5nBQ9hqZKGf6jI.jpg",cardBackSrc:"https://s2.loli.net/2025/04/26/a2wjXmz8En6HNRC.jpg",excludedCards:[]}},methods:{startCardView(t=[]){this.excludedCards=t,this.isCardView=!0},returnToMain(){this.isCardView=!1,this.excludedCards=[]}}};const W=(0,u.A)(V,[["render",l]]);var B=W;(0,n.Ef)(B).mount("#app")}},e={};function s(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(e,n,i,r){if(!n){var l=1/0;for(p=0;p<t.length;p++){n=t[p][0],i=t[p][1],r=t[p][2];for(var o=!0,a=0;a<n.length;a++)(!1&r||l>=r)&&Object.keys(s.O).every((function(t){return s.O[t](n[a])}))?n.splice(a--,1):(o=!1,r<l&&(l=r));if(o){t.splice(p--,1);var d=i();void 0!==d&&(e=d)}}return e}r=r||0;for(var p=t.length;p>0&&t[p-1][2]>r;p--)t[p]=t[p-1];t[p]=[n,i,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,r,l=n[0],o=n[1],a=n[2],d=0;if(l.some((function(e){return 0!==t[e]}))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(a)var p=a(s)}for(e&&e(n);d<l.length;d++)r=l[d],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(p)},n=self["webpackChunkadultcards"]=self["webpackChunkadultcards"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=s.O(void 0,[504],(function(){return s(9423)}));n=s.O(n)})();
//# sourceMappingURL=app.1d951aa1.js.map